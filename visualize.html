<html>
<head>
<title>Visualize</title>
<script>
  var url = window.location.href;
  var param = url.split("?");
  if(param.length > 1){
    var logFile = param[1];
    var client = new XMLHttpRequest();
    client.open('GET', 'BattleShipServer/logs/' + logFile);
    client.onreadystatechange = function(a, b, c) {
      if(client.readyState === XMLHttpRequest.DONE && client.status === 200) {
        visualizeGame(client.responseText);
      }
    }
    client.send();
  }

  function visualizeGame(logText){
    var lines = logText.split("\n");
    lines.forEach(processLine);
  }

  function processLine(lineText){
    document.getElementById("log").innerHTML += lineText + "<br>";
  }
</script>
</head>
<body>
<div id="log">

</div>
</body>
</html>
